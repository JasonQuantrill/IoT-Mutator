rule "1 Timer Demo"
when
    Item Light_GF_Corridor_Ceiling received command
then
    if (receivedCommand == ON) {
        if (timer === null) {
            timer=createTimer(now.plusSeconds(10))

            [| sendCommand (Light_GF_Corridor_Ceiling, OFF)
            ]
        }
        else {
            timer.reschedule (now.plusSeconds (10))
        }
    }
    else if (receivedCommand == OFF) {
        if (timer !== null) {
            timer.canceltimer=null

        }
    }
end

rule "0 Dimmed Light"
when
    Item Light_GF_Corridor_Ceiling received command OFF
then
    if ((receivedCommand == INCREASE) || (receivedCommand == DECREASE)) {
        varNumberpercent=0

        if (DimmedLight.state instanceof DecimalType) percent = DimmedLight.state
        asDecimalType

        if (receivedCommand == INCREASE) percent = percent + 5
        if (receivedCommand == DECREASE) percent = percent - 5
        if (percent < 0) percent = 0
        if (percent > 100) percent = 100
        postUpdate (DimmedLight, percent)
        ;
    }
end